<?xml version="1.0" encoding="UTF-8"?>

<workflow name="$applicationName" version="0.1">
<description>$description</description>
<interface>
#foreach( $input in $inputList )
#if($input.type=="LFN" )
<source name="$input.name" type="URI">
    <source-comment>$input.description</source-comment>
</source>
      #else
<source name="$input.name" type="string">
    <source-comment>$input.description
    </source-comment>
</source>
   #end
   #end
   #foreach($output in $outputList)
   <sink name="$output.name" type="string" />
   #end
</interface>
<processors>
    <processor name="$applicationName" >
        #set($i =0 )
        #foreach($input in $inputList)
        #if($input.type=="LFN" )
        <in name="input${i}" type="URI" depth="0"/>
        #else
        <in name="input${i}" type="string" depth="0"/>
        #end
        #set($i =$i + 1  )
        #end
        #set($j =0 ) 
        #foreach( $output in $outputList )
        <out name="result$j" type="string" depth="0"/>
        #set($j =$j + 1  )
        #end
        <iterationstrategy>
            <cross>
                <dot>
                    #set($i =0 )
                    #foreach( $input in $inputList )
                    #if($i==0)
		    #set($i =$i + 1) 
                    #else
                    <port name="input${i}"/>
                    #set($i =$i + 1)
                    #end
                    #end
                </dot>
                <port name="input0"/>
            </cross>
        </iterationstrategy>
        <gasw descriptor="$gaswDescriptor"/>
    </processor>
</processors>
<links>
    #set($i =0 )
    #foreach( $input in $inputList )
    <link from="$input.name" to="$applicationName:input${i}" />
    #set($i =$i + 1  )
    #end##
    #set($j =0 )
    #foreach($output in $outputList)
    ##we suppose that we have one output
    <link from="$applicationName:result${j}" to="$output.name" />
    #set($j =$j + 1  )
    #end##
</links>

</workflow>