<!DOCTYPE html>
<html>
    <head>
        <title>VIP Documentation - Using your own cluster</title>
        <link rel="StyleSheet" href="../css/doc_main.css" type="text/css" />
    </head>
    <body>
        <h1>Using your own cluster</h1>
        
        <p>
            In this section, you can find information to execute VIP simulations
            on non-grid clusters. The solution requires no cluster administrator 
            intervention, i.e. everything happens in the user space. The cluster
            will be automatically registered in the job execution server. Cluster
            jobs will be submitted on demand according to the number of waiting 
            jobs in the server.
        </p>

        <h2>Obtaining the Client</h2>
        <p>
            Download the latest version of DIRAC Cluster Agent at the project 
            <a href="http://kingkong.grid.creatis.insa-lyon.fr:9002/projects/dirac-cluster-agent/files" target="_blank">Repository</a>
            to your account in the cluster.
        </p>

        <h2>Before Install</h2>
        <p>
            Copy your <strong>p12</strong> certificate to the cluster. The 
            installation script will look by default at 
            <em>${HOME}/.globus/certificate.p12</em>.
        </p>

        <h2>Installing the Client</h2>
        <p>Unpack the distribution:</p>
        <pre>tar -zxvf dirac-cluster-agent-&lt;version&gt;-bin.tar.gz</pre>
        <p>Run the setup:</p>
        <pre>cd dirac-cluster-agent-&lt;version&gt;<br />bash setup</pre>
        <p>The installations process is divided into 2 main steps:</p>
        <ul>
            <li>Selection of cluster scheduler type (<em>PBS</em>, <em>BQS</em> or <em>SLURM</em>)</li>
            <li>Certificate selection (default: <em>${HOME}/.globus/certificate.p12</em>)</li>
        </ul>
        
        <h2>Running the Client</h2>
        <p>Execute:</p>
        <pre>./cluster-agent</pre>
        
        <h2>Useful Information</h2>
        <ul>
            <li>Log file: <em>../cluster-agent-conf-files/cluster-agent.log</em></li>
            <li>Job execution folder: <em>../cluster-agent-work</em></li>
        </ul>
    </body>
</html>
